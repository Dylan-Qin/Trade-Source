---
layout: post
categories: paper
title: "VoIP Impairment, Failure, and Restrictions"
author: "BITAG Technical Working Group"
date: 2016-01-14
tags: ['Internet', ' port', ' blocking', ' port blocking', ' networking', ' BITAG']
---

IP networks have supported voice communications for some time. Voice over IP (VoIP) services allow users to make calls between IP-based endpoints and to interconnect with the traditional public switched telephone network. VoIP applications use a variety of methods and protocols to manage connections and exchange media (i.e., the content of voice or video communications) over IP-based networks such as the Internet. In the majority of VoIP applications, connections are managed or controlled using one protocol or set of protocols, and the media is exchanged among the parties involved in the connection using a different transport protocol or set of protocols. The purpose of these separate connection control and signaling protocols is to allow the parties involved in the communication to establish, control, and terminate connections.  Many services that provide VoIP capability also support other forms of real-time media (video or screen sharing, for example). This report uses the term VoIP impairment to refer to anything that prevents a VoIP application from being used in the manner desired by a user. An impairment affecting a VoIP service can occur anywhere along the data path, including in the end devices. For example, impairment may be the result of actions by a network operator, the VoIP provider itself, or the provider of a smartphone’s operating system. Impairment could likewise be the result of a poorly implemented network device or application, or may occur as a result of a configuration or misconfiguration of a home network. VoIP services can be rendered unusable if their quality is sufficiently reduced to prevent meaningful audio exchange between the participants, even if some VoIP traffic is still exchanged. VoIP failure, as defined in this report, encompasses particular kinds of VoIP impairments that arise when VoIP calls cannot be established at all, or when no media is capable of being exchanged between VoIP endpoints. When network operators, VoIP providers, operating system vendors, or application store providers take steps that cause VoIP failures or prevent VoIP from being used, those steps are considered VoIP restrictions for the purposes of this report. The term VoIP impairments (plural) is used as shorthand for VoIP impairment, failure, or restrictions in this report. Issues related to interoperability between different VoIP services are out of scope. This report discusses: (1) how VoIP works; (2) how VoIP may be impaired or restricted;   (3) methods for mitigating VoIP impairments; and (4) recommendations concerning VoIP impairment, failure, and restrictions. The report focuses on VoIP impairments that may occur in residential or mobile networks. This report makes no assumptions concerning the motivations behind actions that result in VoIP impairment, failure, or restrictions, or about the frequency or scale of such occurrences. There are a variety of technical causes of VoIP impairment, failure, and restrictions: Port blocking. In the architecture of the Internet, communication between two systems is identified by five fields: (1) the source IP address, (2) the destination IP address, (3) the transport protocol in use, (4) the source port, and (5) the destination port used by the transport protocol. The pair of IP addresses representing two systems identifies all of the communication sessions between them, whereas the port number pair characterizes an individual communication session between the two systems. If traffic is prevented from flowing to or from the particular ports used by VoIP applications, VoIP failure can occur. This practice is known as port blocking. Application-Level Gateways (ALGs). Many endpoints on the Internet sit behind a Network Address Translation (NAT) device. NAT allows multiple end devices within a local network (the network in a single home, for example) to share a single public IP address. NAT is challenging for applications such as VoIP that require reachability from the Internet. A variety of mechanisms have been developed for overcoming these challenges, including the use of Application-Level Gateways (ALGs), which can automatically detect traffic associated with particular VoIP services and help that traffic pass through NAT devices. However, ALGs may also affect traffic handling in such a manner as to impair the correct operation of other VoIP services. Other network-based causes. The use of some network-based techniques that attempt to identify VoIP requests or VoIP traffic may result in VoIP impairment. These techniques may leverage the Domain Name System (DNS) infrastructure, deep packet inspection, or network-based flow policing and filtering that attempt to identify patterns of likely VoIP traffic. Restrictions based on device, application, or application store. Actions taken on a device, in a VoIP application, or in an application store may restrict the use or functionality of VoIP applications. These examples often reflect business arrangements or agreements between application store providers, operating system vendors, device manufacturers, and/or mobile carriers. When VoIP impairments occur, it may be very difficult for a user to solve the problem, even for technically sophisticated users. Whether a mitigation or workaround solution exists, and how difficult it may be to implement, depends on the mechanism that is impairing the VoIP connection. If mitigation options are unavailable, or if users lack the knowledge or willingness to pursue such, those users may be prevented from using VoIP altogether, or may need to switch to a different VoIP application. Mitigations available to application providers for dealing with VoIP impairment also depend on how the impairments are effectuated. VoIP impairment, failure, and restrictions can create difficulties for VoIP users and may deter adoption of over-the-top VoIP services. VoIP impairments can also create difficulties for the operators of VoIP services and providers of VoIP applications, who may need to troubleshoot or work around impairments (where possible) to enable or restore their users’ connectivity. BITAG’s Technical Working Group recommends the following to minimize the occurrences and impact of VoIP impairment, failure, and restrictions:  [see report for recommendations]

IP网络支持语音通信已有一段时间。基于IP的语音(VoIP)服务允许用户在基于IP的终端之间通话，并与传统的公共交换电话网络互联。VoIP应用采用多种方法和协议在基于IP的网络（如互联网）上管理连接并交换媒体（即语音或视频通信内容）。大多数VoIP应用中，连接管理采用一种或一组协议，而媒体传输则使用另一套不同的传输协议。这种分离的连接控制与信令协议旨在让通信各方建立、控制和终止连接。许多提供VoIP功能的业务也支持其他实时媒体形式（如视频或屏幕共享）。本报告将"VoIP损伤"定义为任何阻碍用户按预期方式使用VoIP应用的情况。VoIP服务损伤可能发生在数据路径的任何环节，包括终端设备。损伤可能源自网络运营商、VoIP服务商、智能手机操作系统提供方的操作，也可能是网络设备或应用实现缺陷所致，或是家庭网络配置错误的结果。当语音质量严重下降到无法进行有效交流时（即使仍有部分VoIP流量传输），VoIP服务即被视为不可用。本报告定义的"VoIP故障"特指完全无法建立VoIP呼叫或终端间无法交换媒体的情况。当相关方采取导致VoIP故障或阻碍使用的措施时，这些行为在本报告中称为"VoIP限制"。"VoIP损伤"（复数形式）在本报告中泛指损伤、故障或限制现象。不同VoIP服务间的互操作性问题不在讨论范围内。. . 本报告涵盖：(1)VoIP工作原理；(2)VoIP可能遭受的损伤与限制；(3)缓解损伤的方法；(4)相关建议。重点研究住宅和移动网络中的VoIP损伤现象，不预设立场推测损伤背后的动机，也不评估发生频率或规模。VoIP损伤、故障和限制的技术成因包括：端口封锁（阻止流量通过VoIP应用特定端口）、应用层网关（ALG可能干扰其他VoIP服务正常运行）、其他基于网络的识别技术（如DNS查询、深度包检测、流量整形过滤等）。设备、应用或应用商店层面的限制通常反映应用商店、操作系统商、设备制造商与移动运营商之间的商业协议。. . 对于用户而言，VoIP损伤问题往往难以自行解决——即便技术娴熟的用户也是如此。能否找到缓解方案及实施难度取决于具体损伤机制。若无可行方案或用户缺乏解决能力，可能导致完全无法使用VoIP或被迫更换应用。服务提供商应对损伤的能力同样取决于损伤实施方式。这些障碍不仅阻碍用户使用，抑制OTT VoIP服务普及，也为VoIP运营商和应用提供商带来运维挑战。BITAG技术工作组提出若干建议以最小化VoIP损伤、故障和限制的发生及影响（具体建议参见报告原文）。

资源链接: [VoIP Impairment, Failure, and Restrictions](https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2701482)
